<?php

/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

defined('InShopNC') or exit('Access Invalid!');
class decoration_pubControl extends mobileHomeControl{
    public function __construct() {
		parent::__construct();
	}
        
    
            public function getDcListOp($param) {
            error_reporting(0);
            $post=$this->read_json();
            $model_store = Model('store');
            
            //var_dump($_REQUEST['param'][0]);
            
            //$model_store=  Model('seller');
            $storeList=$model_store->getDcStoreOnlineIdArray($post->conditions,$post->pageCount,$post->sortType);
            
            $storeListBasic = $model_store-> getDcInfoBasic($storeList);
            
            $count=$model_store->getDcStoreCount($post->conditions);
            
            $storeListBasic= array_values($storeListBasic);
            
            if($count>0){
                output_data(array('storeBasic_list' => $storeListBasic), mobile_page($count));
               // output_data($storeList,array('statuCode'=>array('10200'),'total'=>$count));
            }else{
                output_error('10404');
            }
            
        }
        
           public function dbindexOp() {
            
            //$post=$this->read_json();
          //  $model_db=Model('decoration');
           // $_REQUEST = objectToArray($post);
           // output_data($_REQUEST);
             if($_REQUEST['user_id']<1){
                 output_error('10404');
             }
            $model_db = Model('decoration');
            $condition['dw_user_id']=intval($_REQUEST['user_id']);
            $result=$model_db->getWorkCommonList($condition);
            if($result){
                 output_data(array('dt_list'=>$result));
            }
        }
        

        
        
}